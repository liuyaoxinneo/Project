# test1 试运行日志
源码直接复制自朱金林，未作任何修改
## part1
输出文件`2x_rev.txt`~`298x_rev.txt`，按原理采集的是最右侧单元在**0.01s**的时间内接收到的信号
1. 画出中间单元`150x_rev.txt`的波形，发现
    - 通过part1，输出文件均为的为2E5个点的列向量
    - 只有前1E5个点有值
2. ~~将原始数据存入`data1`文件夹~~
3. ~~在`data2`内的数据为将once.f90中迭代过程的`t2=t1`均改为`t1=t2`的迭代结果(之后也保持了此修改)~~
4. ~~`data3`：将hysteretic region去除后的迭代结果(即，没有缺陷的情况)~~
5. `data4`：去除迟滞区域和上方的源
6. `data5`:250kHz;源为左侧5~145mm;Q=10;<=5e5 x2/ >5e4 x2;**效果符合论文原图！**(发现是不计经典非线性的！！)
7. `data6`:只将源的频率改为8.5kHz
8. `data7`:频率250kHz,Q=2
9. `data8`:347加入**经典非线性**

画出`data1`,`data2`,`data3`,`data4`中第150个单元的接收信号，**发现均与理论不太符合！！**
决定重新建立工程运行！做适当修改
## part3
matlab部分，读取文件`2x_rev.txt`~`298x_rev.txt`，进行滤波操作，输出文件`2B.txt`~`298B.txt`
1. 画出中间单元`150B.txt`的波形，发现
    - 输出文件为7000个点的列向量=滤波之后截取了前6000个点+在后面接了1000个0点

# test2 试运行日志
在Array_Imaging(已经过备注和修改)的源码基础上，对照朱的源码进行修改：(主要是去除相控阵聚焦的部分)
- `deltad=0.2e-2` ,delta=2mm
- `Q=10`
---

- `data1`：**不正确的图像！**
- `data2`：Q=10，f=250KHz，202\208行均改为50000，无迟滞区域，无调制波，不计衰减，**时域图像不太正确，但功率谱可以看出1、2、3、4次谐波**
- `data3`：Q=2，f=8.5KHz，density=5e-13(常数)，202\208行均改为50000，无迟滞区域，无调制波，不计衰减
- `data4`：Q=2，f=8.5KHz，density=5e-13(常数)，202\208行均改为50000，无迟滞区域，无调制波，考虑衰减 **时域上接近论文原图，但是功率谱不对！**
- `data5`：Q=2，f=8.5KHz，density=5e-13(常数)，202\208行均改为500000，无迟滞区域，无调制波，考虑衰减，声源位置改为(100~200,1)(216\225行做相应修改) **时域上接近论文原图，但是功率谱不对！**
- `data6`：Q=10，f=8.5KHz，density=5e-13(常数)，202\208行均改为500000，无迟滞区域，无调制波，考虑衰减，声源位置改为(100~200,1)(216\225行做相应修改)**效果还不如data5**
- `data7`：184、190、202、208：改为5e4(意义是，输入脉冲持续了0.0025s)，deltd=0.5mm？？ **错误的图像**
- `data8`：将184、190改回5E5

参数设置|p1|part1|是否相同
--|--|--|--
$\Delta t,\Delta d$  | 5E-8,5E-4  |  5E-8,5E-4|$\checkmark$
Q  | 2  | 2  |  $\checkmark$
左侧源频率 f | 8.5KHz  | 250KHz  |  
左侧声源位置(m,n)  |  [100~200,1] | [10~290,1]  |  
正对声源的判断条件  |<=5e5,>5e4   | <=5e5,>5e4  |  $\checkmark$
中间区域是否考虑经典非线性  |  是 |  是 |  $\checkmark$
考虑衰减  | 是  | 是  |  $\checkmark$
once中  | t1=t2  | t2=t1  |  

- `data9`:once中改回为`t2=t1`
